<div class="surface-section px-2 py-5">
  <div class="shadow-2 border-round  p-2 lg:p-4">
    <p-toolbar styleClass="mb-4">
      <ng-template pTemplate="left">
        <p-dropdown
          placeholder="Select By role" (onChange)="onSelectedRoleAction()" [options]="roles"
          [optionValue]="'id'" [optionLabel]="'name'" [(ngModel)]="selectedRoleId"></p-dropdown>
      </ng-template>
      <ng-template pTemplate="right">
        <p-button [routerLink]="['/admin/admins/add']" label="Add User"></p-button>
      </ng-template>
    </p-toolbar>
    <p-divider></p-divider>
    <p-table [value]="users" responsiveLayout="scroll" styleClass="p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
          <th>Username</th>
          <th>Name</th>
          <th>Phone</th>
          <th>Address</th>
          <th>Approved</th>
          <th>Role</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-u>
        <tr>
          <td>{{u.username}}</td>
          <td>{{u.firstName + ' ' + u.lastName}}</td>
          <td>{{u.phone}}</td>
          <td>{{u.address}}</td>
          <td>
            <p-inputSwitch [(ngModel)]="u.approved" (ngModelChange)="toggleApprovedAction(u.id)"
                           [disabled]="u.role.toString().toLowerCase().includes('admin')"></p-inputSwitch>
          </td>
          <td>{{u.role.toString() | titlecase}}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
